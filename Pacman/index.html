<!DOCTYPE HTML>

<html>
	<head>
		<title>Pacman</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper-->
			<div id="wrapper">

				<!-- Nav -->
					<nav id="nav">
						<a href="#" class="icon solid fa-home"><span>Main</span></a>
						<a href="#work" class="icon solid fa-folder"><span>Images</span></a>
						<a href="#contact" class="icon solid fa-envelope"><span>Gameplay</span></a>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Me -->
							<article id="home" class="panel intro">
								<header>
									<h1>Pacman</h1>
									<p>Re-creation Of Pacman For My First Year Of University</p>
								</header>
							</article>

						<!-- Work -->
							<article id="work" class="panel">
								<header>
									<h2>Demo Images and Videos</h2>
								</header>
								<p>
									Phasellus enim sapien, blandit ullamcorper elementum eu, condimentum eu elit.
									Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia
									luctus elit eget interdum.
								</p>
								<section>
									<div class="row">
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic01.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic02.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic03.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic04.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic05.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic06.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic07.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic08.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic09.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic10.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic11.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic12.jpg" alt=""></a>
										</div>
									</div>
								</section>
							</article>

						<!-- Contact -->
							<article id="contact" class="panel">
								<header>
									<h2>Main Concepts Developed</h2>
								</header>
								
								<header1 style="text-align:centre">
									<b><u>Overview:</u></b>
								</header1>
								
								<p>
									This project was developed for my level 4 semester 1 submission in a graphics module. This submission required usage of a university owned framework in order to create Pacman, or a very similar game. </br>
									As this was developed using an internal framework, I, therefore had never seen the starting code before, requiring me to work out of my comfort zone initially. </br>
									Despite this though I was able to fully re-create the arcade version of Pacman, with the only exceptions of the between level animations, and the starting main screen.
								</p>
								
								<header2 style="text-align:centre">
									<b><u>Loading In Rendering Level Data From Files:</u></b>
								</header2>
								
								<p>
									One of my main aims whilst developing this project was to have all levels have the potential of being fully customised through just changing a text file, and maybe a sprite sheet. 
									Therefore, during the initial development stages I focused on not hard coding as much of the game as I could. The result from this is that a text file within a folder named 'BackgroundMaps', maps the sprite Indexes of the currently used sprite sheet found in the directory 'Textures/Backgrounds'.
									This mapping of textures results in the following image on the left mapping to the result on the right, depending on which sprite sheet you use:
								</p>
		
								<div class="row">
									<div class="col-6 col-6-medium col-12-small">
										<a class="image fit"><img src="images/BackgroundIndexMappingFile.png"></a>
									</div>

									<div class="col-6 col-6-medium col-12-small">
										<a class="image fit"><img src="images/MazeParts1.png"></a>
										<a class="image fit"><img src="images/MazeParts2.png"></a>
									</div>
								</div>
								
								<header4 style="text-align:centre">
									<b><u>Enviroment collisions:</u></b>
								</header4>
								
								<p>
									Of all the concepts I created for this project, handelling collision and player movement was by far the hardest of them all. But even with all of the pitfalls along the way, the final result turned out exactly as I had intended it, if not how i planned it. </br> </br>
									First of all I needed a way to set the collision for the level that aligned with the plan to making the levels almost fully customisable. So I couldn't hard code the colision, as it would defeat the point of doing the prior work.
									My solution to this was to have a seperate folder named 'CollisionMaps', and to put text files in there stating where in the level has collision and where doesn't. This allows for specific collision maps to be made for specific levels. </br> </br>
									Loading this data and storing it into the program was not difficult, however, ensuring that the character moving around the level, be it a ghost or pacman, is always in the centre of the current row/column was a harder task than initially anticipated.
									To solve this the player, whenever they change direction, is set to be in the centre of the axis perpendicular to the one they are going to be traveling along. And in order for them to change direction they must be within a certain distance of the centre of their grid square, to ensure that there is no obvious snapping to the new orientation. </br> </br>
		
									With this in place there were still some minior bugs, such as if the player presses two valid directions at once, one axis was always priorisied over the other. And if the player is in a corner and is pressing two directions, one to leave the corner and one to remain. Then it was possible that the direction that prevents the player from moving would have been chosen, leaving the player stuck in a corner. </br> 
									In order to remedy this I added a check whenever the player chooses a direction to go. This check determines if the chosen direction is valid, if not then it would ignore this input and fall into the next button press. This solves the second problem, but not the first. </br>
									In order to solve this I simply prioritised the current movement direction over a change in direction. So if the player is going right and is pressing right and left, the player will continue to move right. This is up until they release their movement direction, or until they hit a wall, which would cause their right movement to become invalid and they would start moving left.
								</p>
								
								<header5 style="text-align:centre">
									<b><u>AI Ghosts:</u></b>
								</header5>
								
								<p>
                                                                    In the original Pacman the four ghosts all have similar, yet slightly different behaviours. This difference in behaviour is the position that they are trying to get to. With the notable exception of the orange ghost, who just travels randomly around the screen. <\br>
                                                                    My re-creation I had the ghosts achieve this behaviour, as well as constantly adapting to the enviroment through use of a stack based finite state machine. This system is like a finite state machine, with the notable exception of having new states added onto a stack, instead of replacing the current state. This allows for new situations to arise, such as Pacman eating a power pill, and the previous state to be saved. </br>
                                                                    This image describes the system well: </br>
     
                                                                    For the ghosts states there were: <\br>
                                                                    Flee: </br>
                                                                    Chase: </br>
                                                                    Return home: </br>
                                                                    Exit home: </br>

                                                                    </br>One key point that applies to all AI in this project is the 'move to here' code. This code is notable as it is very possible for characters to become stuck in a corner, or to not change their axis when they should. Resulting in them never reaching their target position. </br>
                                                                    In order to fix this issue the AI characters must never stop moving. Meaning that if they hit a wall then they must choose the next best direction for them to travel. This direction is calculated through determining which axis the character is further away from their target in. And then determining if they can go in that axis.
								</p>
								
								<header6 style="text-align:centre">
									<b><u>AI Pacman:</u></b>
								</header6>
								
								<p>
								</p>
								
								<header7 style="text-align:centre">
									<b><u>Top 10 Scores Leaderboard:</u></b>
								</header7>
								
								<p>
								</p>
								
								<header8 style="text-align:centre">
									<b><u>Audio Implementation:</u></b>
								</header8>
								
								<p>
									
								</p>
								
							</article>

					</div>

				<!-- Footer -->
					<div id="footer">
						<ul class="copyright">
							<li>Brandon Roberts 2021.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
						</ul>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
